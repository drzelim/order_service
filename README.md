## Приложение для обработки заказов.

## Запуск основного сервера
Перед запуском необходимо в файле ```.env``` прописать переменные ```DATABASE_PASSWORD``` и ```DATABASE_USER``` для подключения к базе данных PostgreSQL.

Для запуска основного сервера выполните команду: ```cargo run```

Дефолтные параметры запуска указаны в файле ```.env```:
* PORT - порт, на котором будет запущено приложение
* REQUEST_DURATION - таймаут ответа БД
* CACHE_SIZE - количество кэшируемых заказов
* DATABASE_TABLE - имя таблицы в БД
* RUST_LOG - управление уровнем логирования: ```[trace, debug, info, warn, error]```

PORT и CACHE_SIZE можно передать также аргументами командной строки:

```cargo run -- --port 3001 --cachesize 100```

или

```cargo run -- -p 3001 -c 100```

Переданные таким образом значения будут иметь приоритет над env переменными.

## Заполнение базы данных моковыми данными
После запуска основного сервера командой ```cargo run --bin publish_orders``` можно заполнить БД фейковыми заказами.
По умолчанию БД заполнится 10 заказами с order_uid, равным 1, 2, 3 ... 10 соответственно.

## Добавление заказа

Для добавления заказа необходимо отправить POST-запрос на адрес ```/order```. 
Данные должны соответствовать модели, находящейся в файле ```/data/model.json```

## Полчение заказа
Для получения заказа необходимо отправить GET-запрос на адрес ```/orders/:order_uid```, где вместо ":order_uid" нужно указать order_uid, под которым был сохранен заказ.